(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const g of a.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();const u={titulo:"Queridos Reyes Magos,",parrafos:["Este aÃ±os ha sido complicado, entre perlitas y otros problemas ha sido un aÃ±o duro pero he intentado ser bueno en todo momento.","Me he esforzado con los estudios, con la familia y con los amigos, y creo que he mejorado mucho en varios aspectos.","He ayudado mucho en casa (mentira jeje), he sido cariÃ±oso con mis seres queridos y he intentado ser una mejor persona cada dÃ­a.","Espero que podÃ¡is traerme algunos de los regalos que os pido a continuaciÃ³n. Prometo seguir portÃ¡ndome bien el prÃ³ximo aÃ±o."],firma:"Con amor, Rafaelito â¤ï¸"},c=[{name:"Brazo de Pared para PortÃ¡til",price:"59'99â‚¬",img:"./img/regalo1.jpg",link:"https://amzn.eu/d/f5IfOLn",descripcion:"Para jugar desde la tele en la cama"},{name:"Spotify Premium - 6 meses",price:"66â‚¬",img:"./img/regalo2.jpg",link:"https://www.game.es/SPOTIFY/MONEDERO-DIGITAL/PREPAGOS/CODIGO-SPOTIFY-DIGITAL-6-MESES/249057",descripcion:"Necesito mi musica sin anuncios en el coche"},{name:"Dinero Dinerete",price:"â‚¬â‚¬",img:"./img/regalo3.jpg",link:"",descripcion:"Siempre hace falta y nunca tengo"},{name:"Cartera Vulkit Negra",price:"24'99â‚¬",img:"./img/regalo4.jpg",link:"https://amzn.eu/d/gSd14av",descripcion:"Que la mia es la de mi ex y ya toca cambiar"},{name:"Vale por Silksong EdiciÃ³n Coleccionista",price:"75â‚¬-100â‚¬",img:"./img/regalo5.jpg",link:"https://www.fangamer.eu/collections/hollow-knight-silksong",descripcion:"Cuando salga lo necesito como loco (aÃºn no disponible)"},{name:"Bombilla Inteligente",price:"14'99â‚¬",img:"./img/regalo6.jpg",link:"https://amzn.eu/d/4YgSpus",descripcion:"Apagar la luz en la cama o cuando me la dejen encendida"}];let C="intro",r=0;const E={intro:document.getElementById("intro-scene"),transicion:document.getElementById("transicion-scene"),regalos:document.getElementById("regalos-scene")},n={cartaTitulo:document.getElementById("carta-titulo"),cartaContenido:document.getElementById("carta-contenido"),cartaFirma:document.getElementById("carta-firma"),btnComenzar:document.getElementById("btn-comenzar"),giftCard:document.getElementById("gift-card"),giftImg:document.getElementById("gift-img"),giftName:document.getElementById("gift-name"),giftPrice:document.getElementById("gift-price"),giftDesc:document.getElementById("gift-desc"),giftLink:document.getElementById("gift-link"),counter:document.getElementById("counter"),btnPrev:document.getElementById("btn-prev"),btnNext:document.getElementById("btn-next")};function f(t){Object.values(E).forEach(e=>e.classList.add("hidden")),E[t].classList.remove("hidden"),C=t}function I(){n.cartaTitulo.textContent=u.titulo,n.cartaContenido.innerHTML=u.parrafos.map(t=>`<p class="mb-4 leading-relaxed">${t}</p>`).join(""),n.cartaFirma.textContent=u.firma}function v(){f("transicion"),L(),setTimeout(()=>{f("regalos"),h(0)},3e3)}function L(){const t=document.getElementById("particulas-container");t.innerHTML="";const e=["â­","âœ¨","ğŸ","ğŸŒŸ","ğŸ’«","ğŸ„","â„ï¸"];for(let s=0;s<50;s++){const i=document.createElement("div");i.className="particula",i.textContent=e[Math.floor(Math.random()*e.length)],i.style.left=Math.random()*100+"vw",i.style.top=Math.random()*100+"vh",i.style.animationDelay=Math.random()*2+"s",i.style.animationDuration=Math.random()*2+3+"s",t.appendChild(i)}}function h(t){const e=c[t];r=t,n.giftName.textContent=e.name,n.giftPrice.textContent=e.price,n.giftDesc.textContent=e.descripcion,n.giftImg.src=e.img,n.giftLink.href=e.link||"#",n.counter.textContent=`${t+1} / ${c.length}`,n.giftCard.classList.remove("card-enter"),setTimeout(()=>n.giftCard.classList.add("card-enter"),10)}function p(){r=(r+1)%c.length,h(r)}function y(){r=(r-1+c.length)%c.length,h(r)}let d=0,l=0,m=!1;const b=100;n.giftCard.addEventListener("touchstart",t=>{d=t.touches[0].clientX,m=!0,n.giftCard.style.transition="none"});n.giftCard.addEventListener("touchmove",t=>{if(!m)return;l=t.touches[0].clientX;const e=l-d,s=e/20;n.giftCard.style.transform=`translateX(${e}px) rotate(${s}deg)`});const B=()=>{if(!m)return;m=!1,n.giftCard.style.transition="transform 0.3s ease-out";const t=l-d;if(Math.abs(t)>b){const e=t>0?-1:1;n.giftCard.style.transform=`translateX(${t>0?1e3:-1e3}px) rotate(${t>0?45:-45}deg)`,setTimeout(()=>{e===1?p():y(),n.giftCard.style.transition="none",n.giftCard.style.transform="scale(0.8)",setTimeout(()=>{n.giftCard.style.transition="transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)",n.giftCard.style.transform="scale(1) translateX(0) rotate(0)"},50)},300)}else n.giftCard.style.transform="translateX(0) rotate(0)";d=0,l=0};n.giftCard.addEventListener("touchend",B);function M(){const t=document.getElementById("snow-container"),e=document.createElement("div");e.classList.add("snowflake"),e.textContent=Math.random()>.5?"â…":"â†",e.style.left=Math.random()*100+"vw",e.style.animationDuration=Math.random()*3+2+"s",e.style.opacity=Math.random()*.6+.4,t.appendChild(e),setTimeout(()=>e.remove(),5e3)}document.addEventListener("DOMContentLoaded",()=>{I(),f("intro"),setInterval(M,300),n.btnComenzar.addEventListener("click",()=>{v()}),n.btnNext.addEventListener("click",p),n.btnPrev.addEventListener("click",y),document.addEventListener("keydown",t=>{C==="regalos"&&(t.key==="ArrowRight"&&p(),t.key==="ArrowLeft"&&y())})});
