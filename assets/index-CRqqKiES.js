(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const g of o.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();const u={titulo:"Queridos Reyes Magos,",parrafos:["Este aÃ±os ha sido complicado, entre perlitas y otros problemas ha sido un aÃ±o duro pero he intentado ser bueno en todo momento.","Me he esforzado con los estudios, con la familia y con los amigos, y creo que he mejorado mucho en varios aspectos.","He ayudado mucho en casa (mentira jeje), he sido cariÃ±oso con mis seres queridos y he intentado ser una mejor persona cada dÃ­a.","Espero que podÃ¡is traerme algunos de los regalos que os pido a continuaciÃ³n. Prometo seguir portÃ¡ndome bien el prÃ³ximo aÃ±o."],firma:"Con amor, Rafaelito â¤ï¸"},c=[{name:"Brazo de Pared para PortÃ¡til",price:"59'99â‚¬",img:"./img/regalo1.jpg",link:"https://amzn.eu/d/f5IfOLn",descripcion:"Para jugar desde la tele en la cama"},{name:"Spotify Premium - 6 meses",price:"66â‚¬",img:"./img/regalo2.jpg",link:"https://www.game.es/SPOTIFY/MONEDERO-DIGITAL/PREPAGOS/CODIGO-SPOTIFY-DIGITAL-6-MESES/249057",descripcion:"Necesito mi musica sin anuncios en el coche"},{name:"Dinero Dinerete",price:"â‚¬â‚¬",img:"./img/regalo3.jpg",link:"",descripcion:"Siempre hace falta y nunca tengo"},{name:"Cartera Vulkit Negra",price:"24'99â‚¬",img:"./img/regalo4.jpg",link:"https://amzn.eu/d/gSd14av",descripcion:"Que la mia es la de mi ex y ya toca cambiar"},{name:"Vale por Silksong EdiciÃ³n Coleccionista",price:"75â‚¬-100â‚¬",img:"./img/regalo5.jpg",link:"https://www.fangamer.eu/collections/hollow-knight-silksong",descripcion:"Cuando salga lo necesito como loco (aÃºn no disponible)"},{name:"Bombilla Inteligente",price:"14'99â‚¬",img:"./img/regalo6.jpg",link:"https://amzn.eu/d/4YgSpus",descripcion:"Apagar la luz en la cama o cuando me la dejen encendida"},{name:"Taza Undertale",price:"28â‚¬",img:"./img/regalo7.jpg",link:"https://www.fangamer.eu/collections/undertale/products/undertale-ruins-mug",descripcion:"Que no tengo tazas propias"},{name:"Lampara Npstablook",price:"34â‚¬",img:"./img/regalo8.jpg",link:"https://www.fangamer.eu/collections/undertale/products/undertale-napstablook-lamp",descripcion:"Para iluminar la habitacion con estilo"},{name:"Peluche Bing Bong",price:"29'99â‚¬",img:"./img/regalo9.jpg",link:"https://www.makeship.com/products/bing-bong-plushie",descripcion:"Bing bong es el rey"},{name:"Peluche Pulga Silksong",price:"21'06â‚¬",img:"./img/regalo10.jpg",link:"https://www.etsy.com/es/listing/4424844230/munecos-de-el-caballero-y-pulga-hechos-a?ls=s&ga_order=most_relevant&ga_search_type=all&ga_view_type=gallery&ga_search_query=silksong+plush&ref=sr_gallery-1-2&sr_prefetch=0&pf_from=market&pro=1&content_source=6dd61e9c-25da-487d-a520-8dcc3b8d0018%253ALT086a88bef5c9ae05ce03b23ccfbc81cd6e36cb92&organic_search_click=1&logging_key=6dd61e9c-25da-487d-a520-8dcc3b8d0018%3ALT086a88bef5c9ae05ce03b23ccfbc81cd6e36cb92",descripcion:"Necesito un pulga en mi vida"},{name:"Manta Hollow Knight",price:"52â‚¬",img:"./img/regalo11.jpg",link:"https://www.fangamer.eu/collections/hollow-knight/products/hollow-knight-blanket",descripcion:"Manta + Hollow Knight = â¤ï¸"},{name:"Maqueta nave Outer Wilds",price:"99â‚¬",img:"./img/regalo12.jpg",link:"https://www.fangamer.com/collections/outer-wilds/products/outer-wilds-scale-model-hearthian-lander",descripcion:"Ojala olvidarme de este juego y volver a disfrutarlo"}];let b="intro",r=0;const w={intro:document.getElementById("intro-scene"),transicion:document.getElementById("transicion-scene"),regalos:document.getElementById("regalos-scene")},n={cartaTitulo:document.getElementById("carta-titulo"),cartaContenido:document.getElementById("carta-contenido"),cartaFirma:document.getElementById("carta-firma"),btnComenzar:document.getElementById("btn-comenzar"),giftCard:document.getElementById("gift-card"),giftImg:document.getElementById("gift-img"),giftName:document.getElementById("gift-name"),giftPrice:document.getElementById("gift-price"),giftDesc:document.getElementById("gift-desc"),giftLink:document.getElementById("gift-link"),counter:document.getElementById("counter"),btnPrev:document.getElementById("btn-prev"),btnNext:document.getElementById("btn-next")};function p(t){Object.values(w).forEach(e=>e.classList.add("hidden")),w[t].classList.remove("hidden"),b=t}function E(){n.cartaTitulo.textContent=u.titulo,n.cartaContenido.innerHTML=u.parrafos.map(t=>`<p class="mb-4 leading-relaxed">${t}</p>`).join(""),n.cartaFirma.textContent=u.firma}function C(){p("transicion"),k(),setTimeout(()=>{p("regalos"),y(0)},3e3)}function k(){const t=document.getElementById("particulas-container");t.innerHTML="";const e=["â­","âœ¨","ğŸ","ğŸŒŸ","ğŸ’«","ğŸ„","â„ï¸"];for(let s=0;s<50;s++){const i=document.createElement("div");i.className="particula",i.textContent=e[Math.floor(Math.random()*e.length)],i.style.left=Math.random()*100+"vw",i.style.top=Math.random()*100+"vh",i.style.animationDelay=Math.random()*2+"s",i.style.animationDuration=Math.random()*2+3+"s",t.appendChild(i)}}function y(t){const e=c[t];r=t,n.giftName.textContent=e.name,n.giftPrice.textContent=e.price,n.giftDesc.textContent=e.descripcion,n.giftImg.src=e.img,n.giftLink.href=e.link||"#",n.counter.textContent=`${t+1} / ${c.length}`,n.giftCard.classList.remove("card-enter"),setTimeout(()=>n.giftCard.classList.add("card-enter"),10)}function f(){r=(r+1)%c.length,y(r)}function h(){r=(r-1+c.length)%c.length,y(r)}let l=0,d=0,m=!1;const v=100;n.giftCard.addEventListener("touchstart",t=>{l=t.touches[0].clientX,m=!0,n.giftCard.style.transition="none"});n.giftCard.addEventListener("touchmove",t=>{if(!m)return;d=t.touches[0].clientX;const e=d-l,s=e/20;n.giftCard.style.transform=`translateX(${e}px) rotate(${s}deg)`});const I=()=>{if(!m)return;m=!1,n.giftCard.style.transition="transform 0.3s ease-out";const t=d-l;if(Math.abs(t)>v){const e=t>0?-1:1;n.giftCard.style.transform=`translateX(${t>0?1e3:-1e3}px) rotate(${t>0?45:-45}deg)`,setTimeout(()=>{e===1?f():h(),n.giftCard.style.transition="none",n.giftCard.style.transform="scale(0.8)",setTimeout(()=>{n.giftCard.style.transition="transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)",n.giftCard.style.transform="scale(1) translateX(0) rotate(0)"},50)},300)}else n.giftCard.style.transform="translateX(0) rotate(0)";l=0,d=0};n.giftCard.addEventListener("touchend",I);function L(){const t=document.getElementById("snow-container"),e=document.createElement("div");e.classList.add("snowflake"),e.textContent=Math.random()>.5?"â…":"â†",e.style.left=Math.random()*100+"vw",e.style.animationDuration=Math.random()*3+2+"s",e.style.opacity=Math.random()*.6+.4,t.appendChild(e),setTimeout(()=>e.remove(),5e3)}document.addEventListener("DOMContentLoaded",()=>{E(),p("intro"),setInterval(L,300),n.btnComenzar.addEventListener("click",()=>{C()}),n.btnNext.addEventListener("click",f),n.btnPrev.addEventListener("click",h),document.addEventListener("keydown",t=>{b==="regalos"&&(t.key==="ArrowRight"&&f(),t.key==="ArrowLeft"&&h())})});
