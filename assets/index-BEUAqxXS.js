(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();const g={titulo:"Queridos Reyes Magos,",parrafos:["Este aÃ±o ha sido especial de muchas maneras. He intentado portarme lo mejor posible, aunque admito que no siempre ha sido fÃ¡cil.","Ha habido momentos difÃ­ciles, retos que superar, pero hemos seguido adelante con fuerza y esperanza. He aprendido, he crecido, y he tratado de ser mejor persona cada dÃ­a.","Este aÃ±o he ayudado en casa, he sido responsable con mis estudios, y he intentado cuidar de las personas que quiero. SÃ© que no soy perfecto, pero prometo seguir mejorÃ¡ndome.","Con todo el cariÃ±o del mundo, os dejo mi lista de deseos. Cualquier cosa que traigÃ¡is serÃ¡ recibida con inmensa ilusiÃ³n y gratitud."],firma:"Con amor, tu hijo â¤ï¸"},c=[{name:"Brazo de Pared para PortÃ¡til",price:"59'99â‚¬",img:"./img/regalo1.jpg",link:"https://amzn.eu/d/f5IfOLn",descripcion:"Para jugar desde la tele en la cama"},{name:"Spotify Premium - 6 meses",price:"66â‚¬",img:"./img/regalo2.jpg",link:"https://www.game.es/SPOTIFY/MONEDERO-DIGITAL/PREPAGOS/CODIGO-SPOTIFY-DIGITAL-6-MESES/249057",descripcion:"Necesito mi musica sin anuncios en el coche"},{name:"Dinero Dinerete",price:"â‚¬â‚¬",img:"./img/regalo3.jpg",link:"",descripcion:"Siempre hace falta y nunca tengo"},{name:"Cartera Vulkit Negra",price:"24'99â‚¬",img:"./img/regalo4.jpg",link:"https://amzn.eu/d/gSd14av",descripcion:"Que la mia es la de mi ex y ya toca cambiar"},{name:"Vale por Silksong EdiciÃ³n Coleccionista",price:"75â‚¬-100â‚¬",img:"./img/regalo5.jpg",link:"https://www.fangamer.eu/collections/hollow-knight-silksong",descripcion:"Cuando salga lo necesito como loco (aÃºn no disponible)"},{name:"Bombilla Inteligente",price:"14'99â‚¬",img:"./img/regalo6.jpg",link:"https://amzn.eu/d/4YgSpus",descripcion:"Apagar la luz en la cama o cuando me la dejen encendida"}];let E="intro",r=0;const C={intro:document.getElementById("intro-scene"),transicion:document.getElementById("transicion-scene"),regalos:document.getElementById("regalos-scene")},n={cartaTitulo:document.getElementById("carta-titulo"),cartaContenido:document.getElementById("carta-contenido"),cartaFirma:document.getElementById("carta-firma"),btnComenzar:document.getElementById("btn-comenzar"),giftCard:document.getElementById("gift-card"),giftImg:document.getElementById("gift-img"),giftName:document.getElementById("gift-name"),giftPrice:document.getElementById("gift-price"),giftDesc:document.getElementById("gift-desc"),giftLink:document.getElementById("gift-link"),counter:document.getElementById("counter"),btnPrev:document.getElementById("btn-prev"),btnNext:document.getElementById("btn-next")};function f(t){Object.values(C).forEach(e=>e.classList.add("hidden")),C[t].classList.remove("hidden"),E=t}function I(){n.cartaTitulo.textContent=g.titulo,n.cartaContenido.innerHTML=g.parrafos.map(t=>`<p class="mb-4 leading-relaxed">${t}</p>`).join(""),n.cartaFirma.textContent=g.firma}function L(){f("transicion"),v(),setTimeout(()=>{f("regalos"),h(0)},3e3)}function v(){const t=document.getElementById("particulas-container");t.innerHTML="";const e=["â­","âœ¨","ğŸ","ğŸŒŸ","ğŸ’«","ğŸ„","â„ï¸"];for(let s=0;s<50;s++){const o=document.createElement("div");o.className="particula",o.textContent=e[Math.floor(Math.random()*e.length)],o.style.left=Math.random()*100+"vw",o.style.top=Math.random()*100+"vh",o.style.animationDelay=Math.random()*2+"s",o.style.animationDuration=Math.random()*2+3+"s",t.appendChild(o)}}function h(t){const e=c[t];r=t,n.giftName.textContent=e.name,n.giftPrice.textContent=e.price,n.giftDesc.textContent=e.descripcion,n.giftImg.src=e.img,n.giftLink.href=e.link||"#",n.counter.textContent=`${t+1} / ${c.length}`,n.giftCard.classList.remove("card-enter"),setTimeout(()=>n.giftCard.classList.add("card-enter"),10)}function p(){r=(r+1)%c.length,h(r)}function y(){r=(r-1+c.length)%c.length,h(r)}let d=0,l=0,m=!1;const b=100;n.giftCard.addEventListener("touchstart",t=>{d=t.touches[0].clientX,m=!0,n.giftCard.style.transition="none"});n.giftCard.addEventListener("touchmove",t=>{if(!m)return;l=t.touches[0].clientX;const e=l-d,s=e/20;n.giftCard.style.transform=`translateX(${e}px) rotate(${s}deg)`});const B=()=>{if(!m)return;m=!1,n.giftCard.style.transition="transform 0.3s ease-out";const t=l-d;if(Math.abs(t)>b){const e=t>0?-1:1;n.giftCard.style.transform=`translateX(${t>0?1e3:-1e3}px) rotate(${t>0?45:-45}deg)`,setTimeout(()=>{e===1?p():y(),n.giftCard.style.transition="none",n.giftCard.style.transform="scale(0.8)",setTimeout(()=>{n.giftCard.style.transition="transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)",n.giftCard.style.transform="scale(1) translateX(0) rotate(0)"},50)},300)}else n.giftCard.style.transform="translateX(0) rotate(0)";d=0,l=0};n.giftCard.addEventListener("touchend",B);function w(){const t=document.getElementById("snow-container"),e=document.createElement("div");e.classList.add("snowflake"),e.textContent=Math.random()>.5?"â…":"â†",e.style.left=Math.random()*100+"vw",e.style.animationDuration=Math.random()*3+2+"s",e.style.opacity=Math.random()*.6+.4,t.appendChild(e),setTimeout(()=>e.remove(),5e3)}document.addEventListener("DOMContentLoaded",()=>{I(),f("intro"),setInterval(w,300),n.btnComenzar.addEventListener("click",()=>{L()}),n.btnNext.addEventListener("click",p),n.btnPrev.addEventListener("click",y),document.addEventListener("keydown",t=>{E==="regalos"&&(t.key==="ArrowRight"&&p(),t.key==="ArrowLeft"&&y())})});
